// Some DOM helpers (partial credit to @ShamesBond)
export async function click(_ns, elem) {
   await elem[Object.keys(elem)[1]].onClick({ isTrusted: true });
   await _ns.sleep(1);
}

export async function setText(_ns, input, text) {
   await input[Object.keys(input)[1]].onChange({ isTrusted: true, currentTarget: { value: text } });
   await _ns.sleep(10);
}

//According to @KarateSnoopy on discord, the seed is set when entering the casino
// I don't know if it mean when entering the roulette or the casino itself
// So i return 3 values
/**
 * Description
 * @param {NS} _ns
 * @param {any} gameName
 * @returns {any}
 */
export async function goToCasino(_ns, gameName) {


   if (_ns.getPlayer().city != "Aevum") {
      _ns.singularity.travelToCity("Aevum")
      await _ns.sleep(10)
   }

   try {
      _ns.singularity.setFocus(false)
   } catch { }

   let ahh = eval("document").getElementsByClassName("MuiTypography-root")
   for (let i = 0; i < ahh.length; i++) {
      if (ahh[i].innerText == "City") {

         await click(_ns, ahh[i].parentElement.parentElement)
         break
      }
   }

   let t1 = Date.now()

   ahh = eval("document").querySelectorAll("b")
   for (let i = 0; i < ahh.length; i++) {
      if (ahh[i].innerText == "Â¢") {
         await click(_ns, ahh[i].parentElement)
         break
      }
   }

   let t2 = Date.now()

   ahh = eval("document").getElementsByClassName("MuiButtonBase-root")
   for (let i = 0; i < ahh.length; i++) {
      if (ahh[i].innerText == "Play " + gameName) {
         await click(_ns, ahh[i])
         break
      }
   }
   let t3 = Date.now()

   return { t1, t2, t3 }

}